/**
 * kvTrack - v1.0.0 
 * Copyright (c) 2021 Kiva Microfunds
 * 
 * Licensed under the MIT license.
 * http://github.com/kiva/kvTrack/license.txt
 */
define(["jquery"],function(a){"use strict";function b(b){var c=this,d=a.Deferred();"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]),this.sp=null,this._gaID=[],this.ga=null,this.isReady=d,a.each(this,function(b,d){"function"==typeof d&&(c[b]=a.proxy(c,b))}),this.setUAId(b);var e,f=window.setInterval(function(){"function"==typeof window.ga&&(c.ga=window.ga,c._gaID.forEach(function(a,b){c.ga("create",a,"auto","tracker"+b)})),"function"==typeof window.snowplow&&(c.sp=window.snowplow,c.isReady.resolve(),clearInterval(f),clearTimeout(e))},100);e=window.setTimeout(function(){c.isReady.resolve(),clearInterval(f),clearTimeout(e)},5e3)}return b.prototype={init:function(){},setUAId:function(a){this._gaID=a},trackEvent:function(a,b,c,d){var e=this;c=void 0!==c&&null!==c?String(c):null,d=void 0!==d&&null!==d?parseInt(d):null;try{e._gaID.forEach(function(f,g){e.ga("tracker"+g+".send","event",{eventCategory:String(a),eventAction:String(b),eventLabel:c,eventValue:d})})}catch(f){}try{"function"==typeof e.sp&&e.sp("trackStructEvent",a,b,c,d)}catch(f){}},trackPageView:function(a,b,c){var d=this;b=void 0!==b?String(b):null,c=void 0!==c?String(c):null;try{d._gaID.forEach(function(e,f){d.ga("tracker"+f+".send","pageview",String(a),{title:b,location:c})})}catch(e){return}try{"function"==typeof d.sp&&d.sp("trackPageView")}catch(e){return}},trackSetDimension:function(a,b){var c=this;a=void 0!==a?String(a):null,b=void 0!==b?String(b):null;try{c._gaID.forEach(function(d,e){c.ga("tracker"+e+".set",a,b)})}catch(d){return}}},b});