/**
 * kvTrack - v0.0.24 
 * Copyright (c) 2018 Kiva Microfunds
 * 
 * Licensed under the MIT license.
 * http://github.com/kiva/kvTrack/license.txt
 */
define(["jquery"],function(a){"use strict";function b(b){var c=this,d=a.Deferred();"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]),this._gaID=[],this.ga=null,this.isReady=d,a.each(this,function(b,d){"function"==typeof d&&(c[b]=a.proxy(c,b))}),c.setUAId(b),"function"==typeof ga?(this.ga=ga,this._gaID.forEach(function(a,b){c.ga("create",a,"auto","tracker"+b)}),this.isReady.resolve()):c.initGA(),this.sp="function"==typeof snowplow?snowplow:null}return b.prototype={init:function(){},setUAId:function(a){this._gaID=a},initGA:function(){var b=this;a.ajax({url:"//www.google-analytics.com/analytics.js",dataType:"script",cache:!0,crossDomain:!0}).fail(function(){b.isReady.reject()}).done(function(){"undefined"!=typeof ga?(b.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,b._gaID.forEach(function(a,c){b.ga("create",a,"auto","tracker"+c)}),b.isReady.resolve()):b.isReady.reject()})},trackEvent:function(a,b,c,d,e){var f=this;c=void 0!==c&&null!==c?String(c):null,d=void 0!==d&&null!==d?parseInt(d):null;try{f._gaID.forEach(function(e,g){f.ga("tracker"+g+".send","event",{eventCategory:String(a),eventAction:String(b),eventLabel:c,eventValue:d})})}catch(g){}try{e&&f.sp("trackStructEvent",a,b,c,d)}catch(g){}},trackPageView:function(a,b,c){var d=this;b=void 0!==b?String(b):null,c=void 0!==c?String(c):null;try{d._gaID.forEach(function(e,f){d.ga("tracker"+f+".send","pageview",String(a),{title:b,location:c})})}catch(e){return}},trackSetDimension:function(a,b){var c=this;a=void 0!==a?String(a):null,b=void 0!==b?String(b):null;try{c._gaID.forEach(function(d,e){c.ga("tracker"+e+".set",a,b)})}catch(d){return}}},b});