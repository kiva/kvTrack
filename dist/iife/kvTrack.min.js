/**
 * kvTrack - v2.0.2 
 * Copyright (c) 2022 Kiva Microfunds
 * 
 * Licensed under the MIT license.
 * http://github.com/kiva/kvTrack/license.txt
 */
!function(a,b){"use strict";function c(b){var c=this,d=a.Deferred();"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]),this.sp=null,this._gaID=[],this.gtag=null,this.isReady=d,a.each(this,function(b,d){"function"==typeof d&&(c[b]=a.proxy(c,b))}),this.init(),this.setUAId(b);var e,f=window.setInterval(function(){"function"==typeof window.gtag&&(c.gtag=window.gtag,c._gaID.forEach(function(a){c.gtag("js",new Date),c.gtag("config",a,{send_page_view:!1})})),"function"==typeof window.snowplow&&(c.sp=window.snowplow,c.isReady.resolve(),clearInterval(f),clearTimeout(e))},100);e=window.setTimeout(function(){c.isReady.resolve(),clearInterval(f),clearTimeout(e)},5e3)}c.prototype={init:function(){window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}},setUAId:function(a){this._gaID=a},trackEvent:function(a,b,c,d){var e=this;c=void 0!==c&&null!==c?String(c):null,d=void 0!==d&&null!==d?parseInt(d):null;try{e._gaID.forEach(function(f){e.gtag("event",String(b),{event_category:String(a),event_label:String(c),value:parseInt(d),send_to:f})})}catch(f){}try{"function"==typeof e.sp&&e.sp("trackStructEvent",a,b,c,d)}catch(f){}},trackPageView:function(a,b,c){var d=this;b=void 0!==b?String(b):null,c=void 0!==c?String(c):null;try{d._gaID.forEach(function(e){d.gtag("event","page_view",{page_path:String(a),title:b,location:c,send_to:e})})}catch(e){return}try{"function"==typeof d.sp&&d.sp("trackPageView")}catch(e){return}},trackSetDimension:function(a,b){var c=this;a=void 0!==a?String(a):null,b=void 0!==b?String(b):null;try{c._gaID.forEach(function(a){c.gtag("config",a,{dimension:b,send_page_view:!1})})}catch(d){return}}},b.kvTrack=c}(jQuery,this);